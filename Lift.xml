<?xml version="1.0" encoding="utf-8"?><!DOCTYPE nta PUBLIC '-//Uppaal Team//DTD Flat System 1.1//EN' 'http://www.it.uu.se/research/group/darts/uppaal/flat-1_1.dtd'><nta><declaration>// Place global declarations here.
clock x; //Clock of the elevator;
chan open,close,up,down,enter;

int waiting=0;</declaration><template><name x="5" y="5">Door</name><declaration>// Place local declarations here.
</declaration><location id="id0" x="-104" y="-632"><name x="-120" y="-616">idle</name><label kind="invariant" x="-136" y="-600">x&lt;=5</label></location><location id="id1" x="-16" y="-736"><name x="-120" y="-760">DOOR_OPEN</name></location><location id="id2" x="-176" y="-736"><name x="-288" y="-720">DOOR_CLOSED</name></location><init ref="id2"/><transition><source ref="id1"/><target ref="id1"/><label kind="guard" x="280" y="-776">waiting&gt;0</label><label kind="synchronisation" x="280" y="-744">enter!</label><label kind="assignment" x="280" y="-760">waiting=waiting-1,x:=0</label><nail x="280" y="-712"/><nail x="272" y="-784"/></transition><transition><source ref="id0"/><target ref="id1"/><label kind="guard" x="-48" y="-688">x&lt;=5</label></transition><transition><source ref="id2"/><target ref="id0"/><label kind="guard" x="-200" y="-680">x&gt;=2</label><label kind="synchronisation" x="-200" y="-699">open?</label><label kind="assignment" x="-216" y="-664">waiting:=3</label></transition><transition><source ref="id1"/><target ref="id2"/><label kind="guard" x="-176" y="-832">waiting == 0 &amp;&amp; x&gt;=4</label><label kind="synchronisation" x="-128" y="-848">close!</label><label kind="assignment" x="-128" y="-816">x:=0</label><nail x="-64" y="-800"/><nail x="-96" y="-800"/><nail x="-144" y="-800"/></transition></template><template><name>Elevator</name><location id="id3" x="-5672" y="-760"><name x="-5682" y="-790">down</name></location><location id="id4" x="-5416" y="-496"><name x="-5400" y="-488">up</name></location><location id="id5" x="-5416" y="-760"><name x="-5408" y="-792">idle_down</name></location><location id="id6" x="-5672" y="-496"><name x="-5720" y="-480">idle_up</name></location><location id="id7" x="-5416" y="-632"><name x="-5392" y="-640">First_Floor</name></location><location id="id8" x="-5672" y="-624"><name x="-5784" y="-632">Ground_Floor</name></location><init ref="id8"/><transition><source ref="id5"/><target ref="id5"/><label kind="synchronisation" x="-5192" y="-736">enter?</label><nail x="-5200" y="-712"/><nail x="-5200" y="-744"/></transition><transition><source ref="id6"/><target ref="id6"/><label kind="synchronisation" x="-6008" y="-528">enter?</label><nail x="-5952" y="-528"/><nail x="-5960" y="-512"/></transition><transition><source ref="id5"/><target ref="id3"/><label kind="synchronisation" x="-5560" y="-784">close?</label><nail x="-5448" y="-760"/></transition><transition><source ref="id3"/><target ref="id8"/><label kind="guard" x="-5712" y="-688">x&gt;=2</label></transition><transition><source ref="id4"/><target ref="id7"/><label kind="guard" x="-5408" y="-584">x&gt;=2</label></transition><transition><source ref="id6"/><target ref="id4"/><label kind="synchronisation" x="-5576" y="-488">close?</label></transition><transition><source ref="id7"/><target ref="id5"/><label kind="synchronisation" x="-5408" y="-712">open!</label><label kind="assignment" x="-5400" y="-688">x:=2</label></transition><transition><source ref="id8"/><target ref="id6"/><label kind="synchronisation" x="-5720" y="-600">open!</label><label kind="assignment" x="-5712" y="-576">x:=2</label></transition></template><system>// Place template instantiations here.

// List one or more processes to be composed into a system.
system Door, Elevator;</system></nta>